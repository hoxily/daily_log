工作记录2017-01-02

今天加班。尝试调试线上红包游戏报该用户没有游戏次数的bug；

由于没有第一手魔镜运行的log数据，所以只能等他们再次出现问题的时候，远程连上去检查日志。

仅从当前掌握的信息来看，魔镜端本身有几个bug可以先修：

1. WebAccess里的RunWebAPI方法，默认是尝试3次接口调用。对于getXXXGameResult接口来说，会出现前后台不匹配的问题；
2. 在网络环境差的情况下，魔镜端认为接口调用失败了。但是后台收到了getXXXGameResult请求。二者不同步。
3. 魔镜端的提示太过笼统。原先是想不暴露过多的技术细节给魔镜用户。不管是接口调用失败，还是CRM查不订单数据，都是统一提示“该用户无游戏次数”。但是现在实际业务实施的时候，出现这个提示，没法定位问题所在。张继霞希望对处理流程各环节都作出相应的提示，以帮助排查问题。

----

整个下午没有收到出错的消息。怎么又莫名其妙地好了？张继霞提前走了。

----

尝试写了一个自定义的文件日志系统。可以实现替换Debug.logger中的默认logHandler，做到在不改动以前写的Debug.LogXXX、print的情况下，把日志多导出一份到自定义的位置。这样一来，下次再遇到这个种问题，就比较好排查了。虽然就像黎明所说的，日志并不能解决一切问题。但是有了日志以后，总能帮助排查吧。无论如何总有一些帮助吧。