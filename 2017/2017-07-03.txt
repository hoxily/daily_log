2017-07-03，

成功修改了球球大作战Android版动态加载的dll。改动了camerafollow的view字段计算过程，加上了自定义的视野缩放倍数。另外在update方法里添加了缩放倍数变更的触发代码，满足条件时，从1,2,4,8,16倍轮流切换。

从实际运行上看，本地客户端强行扩大显示视野并没有什么卵用。服务端会动态判定玩家当前能看到的豆子、孢子、球体以及刺球。仅仅是把原本能看到的视野可见物压缩到中间区域去了。边上一圈都是突然冒出物体，或者突然消失物体。唯一有效的视野增大效果，是由于某个玩家的多个球体其中之一可见时，服务端传过来了剩余球体的大小和位置信息，从而导致增大了视野。

其中遇到了一些问题，记录如下。

1.屏幕摇杆并没有缩放，所以相比之下，摇杆的小圆圈相当大，遮住了视野。于是去修改uitouchcontrol里摇杆的透明度，改成半透明。

2、ilspy以C#格式导出的文件，含有许多错误，特别是迭代器函数。更多问题参见桌面上的ilspy缺陷列表文档。根本无法在短时间内完成修改。于是尝试以il格式导出。这时要修改方法体、字段的话，想办法弄到修改后的il代码，进行替换即可。也就是编写C#代码，表达处理逻辑。编译生成dll，然后用ilspy查看，选择il格式即可。该方法切实可行。然而ilspy有bug。导出的il文件缺失了privateimplementation类的一些静态字段值。从C#代码角度来看，就是方法体里面书写字面量数组，进行使用。编译后，这些数组统合到了该程序集的privateimplementation类里面去了。ilspy导出的il代码缺失这些字面量数组。仅仅含有标签，缺失数据。换用微软的ildasm，发现多了一些.data声明。如此一来，ilasm程序就能正确生成了。

3、unity4.6的buildpipeline.buildassetbundle方法需要pro license。5.0之后personal版也能用了。
