2018年06月21日，星期四，阴转阵雨，21~29摄氏度，杭州滨江

TODO：
* iPhone5s没有音效。然而log中看起来所有AssetBundle都已经加载好了的。
* http://47.96.106.92:9001/calculate_total_point 麻将总结算总是失败。地址或者端口不对。更换了calculate_total_point的处理流程，由主动请求改为了服务器推送。
* bug：allinone，大厅页、麻将场景，在android的2:1比例屏幕上显示时，没有把超出16:9范围的画面清除掉。见QQ群图；
* 把配置文件提到StreamingAssets文件夹里。以方便变动。否则Unity导出xcode工程后，才发现配置有问题，又得耗费大量时间。
* 杭州麻将的商城需要升级，使用新的接口以及流程。目前服务器临时兼容了一下老代码逻辑。
* 忽略麻将的杀进程断线重连。HomePageCtrl里对GetReloginUserInfo做了屏蔽处理。实现后，需要解开屏蔽。
* AssetBundle资源热更新。
* heart_beat协议里加一个玩家状态异常字段，用于强制踢人。
* 某些iPhone手机进游戏房间后黑屏bug。
* 自动跟注按钮的2个状态UI有调整。除了光圈旋转，还有打勾。具体见脑海中的设计图。
* 1.0.3bug反馈，见在线表格。
----

AssetBundle使用UnityWebRequest的方式下载，其内部自动使用cache。一切都很美好，然而当进入游戏房间后展示loading界面时，这时杀进程结束应用程序。重新启动时会发现创建房间失败。查看log发现是null reference exception。这个有点不可思议。理论上AssetBundle被加载起来后使用时是一个只读状态吧。不应该会造成资源变动。

----

端午放假的时候，从老家的PC机上拆下来一根8GB内存条。现在插在工作机上使用中。暂时一切良好。这台工作机的内存插拔不方便。因为被风扇挡住了。需要先把风扇拆除，才能插拔内存条。风扇拆掉后，重新装回去时，需要注意背面的风扇螺母盘要贴紧。不然螺丝钉够不着，拧不起来。还有一点是内存条一定要插紧。插入自动扣子扣住后，发现另一端竟然可以轻松用手捏住拔出。显然屁股端没有扣住。多试几次就OK了。屁股端先插入顶到底，然后把前端按下，带动扣子自动扣上。

16GB内存，再开android studio不怕内存不够了。

----

尝试了一下，已成功进入游戏房间后，断开网络。这时引起的loading重连，此时杀进程重启游戏并不会引起NullReferenceException。

----

可以换个思路，看一下2017.3.1p1后续的版本是不是修复了这个问题。看看后续的patch版本release说明里有没有提到这个问题。或者看一下2017.3.1之后的版本是否已经修复了这个问题。