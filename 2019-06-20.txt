2019年06月20日, 星期四, GPS(30.3107, 120.0907)

解析JSON数据的时候有时候会遇到报错，但是直接try-catch捕获的只有出错的代码位置。然而我还想知道出错时，它正在解析的JSON的数据长什么样子。这该怎么定位呢？

如果是想办法让Decode方法把当前正在解析的JToken记录下来，然后在BaseModel.ApiGet方法里捕获到异常时去使用，也是一种办法。但是这需要所有的Decode方法在进入方法（通常是一个入口）和退出方法（当含有分支时会有很多个出口）时，分别做一个EnterDecodeWithContext(JToken context)和ExitDecodeWithContext(JToken context)操作。成本太高。

也许直接开启visual studio调试器，查看会更方便？也不需要额外地给出问题的代码周围加上调试用的代码。加个断点就行。

----

想要验证Decode方法没有写错，没有写漏必要的字段解析。尝试使用UnityEngine.JsonUtility.ToJson方法，但是并没有用。改成Newtonsoft.Json.JsonConvert.SerializeObject方法，会遇到self reference loop，因为Vector3.normalized属性又返回了一个Vector3.

还是用VS调试器来检查吧。

速款商户iPad版详情页上有一排按钮，其中的水平旋转和自由旋转分开两个位置。我建议点击两个按钮的任意一处，都能自由切换状态。但是李智觉得必需点击对应按钮才能使其生效。
