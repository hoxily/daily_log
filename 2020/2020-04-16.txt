2020年04月16日，星期四，杭州

感觉最近在胡思乱想，静不下心来干活。

昨天与万园钉钉电话，向她请教用户输入的事件交互问题。我把我预想的场景层级结构图发给她。她指出了其中的若干错误。

关键点：射线检测并不关心物体在场景里的嵌套层次。libwebgl里进行事件分发时，是根据选中的印绣花所属LtCloth（Component、Cloth），来决定执行的动作。也就是并没有如我预想的完美的层层上报。

所以实际上，宏观上的层级只有2层。一层是射线检测能检测到的物体，包括直接Raycast探测到的，也包括直接Raycast探测到的物体的父物体。另一层则是打底的LtOrbitControl，没人处理就会交给它去处理。而LtOrbitControl直接监听DomElement的事件，并添加enabled标记，是间接实现了输入事件的分发。

另外一个请教的疑惑点则是转动物体、还是转动相机。理论上，相机与物体是独立的自由地在场景中运动是最好的。常规浏览静态物体，使用相机环绕物体运动即可。动态布料依赖物体自身相对世界坐标系旋转这个硬性要求，则可以通过在上面所述的两个层级里的第1层再加一个Operator即可。让这个Operator跟其他Operator一样，拥有当前选中transform对象，并能根据程序状态，在特定条件下截获交给打底的LtOrbitControl的输入事件即可。
