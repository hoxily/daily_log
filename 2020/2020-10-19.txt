2020年10月19日，星期一，杭州

好高级。现在的申通快递送到公司1楼快递架，不仅会发送短消息，还会拨打一个合成语音的电话。

小心Lt3D内部的旋转角度与展示在UI上的旋转角度不一致！UserProductData里存储的面料旋转角度为x度时，显示在面板上的数值则是（360 - x）度。印花的旋转角度同理。这难不成在前端那边做的转换？在Lt3D和测试用的Lt3DGUI没有找到转换的代码，都是直接使用Lt3D提供的接口的数值。

在计算三角面的面法线时，遇到一个叉积结果为(0,0,0)的bug。原因是三角形本身很小，由三角形三个顶点ABC构成的向量AB与向量BC直接做叉积得到了零向量，也就丢失了方向。解决方案是先归一化向量AB和向量BC，再做叉积。最后再次归一化。

看半天印花应用到面料的代码。还是没找到原因。反而在单步跟踪的过程中，找到一些笔误。

创建PatternDecalGeometry的时候失败了。有一些很可疑的地方。比如第一个印花，依附的Cloth网格本身都只有8万多个顶点，生成的印花却有13万多个顶点。见鬼了。
